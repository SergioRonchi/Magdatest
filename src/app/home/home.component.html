<h1>
 Welcome!</h1>

 <div class="play-container">
 <p>You've clicked <span (click)="countClick()">this</span> {{clickCounter}} times.</p>
</div>

<div class="play-container">
  <p>
      <input type="text" [(ngModel)]="name">
      <br>
      <strong>You said: </strong> {{ name }}
  </p>
 </div>
 
 <div class="play-container" [ngClass]="setClasses()" >

    <ng-template [ngIf]="clickCounter > 4" [ngIfElse]="none">
      <p>the click counter <strong>is greater</strong> than 4</p>
    </ng-template>

    <ng-template #none>
        <p>the click counter <strong>is smaller</strong> than 4</p>
      </ng-template>
   </div>

   <div class="play-container">
      <p>
          <input type="number" [(ngModel)]="celsius">
          <br>
    
         {{ celsius }} degrees Celsius are equivalent to  {{ convert(celsius) }} degrees Farenheit</p>

     </div>

     <div class="play-container">
        <button (click)="onclick()">
            login
        </button>
  
       </div>



     <div class="play-container">
        <p>This is an lti PlAN</p>
        <p>{{ Plan.Name }}</p>
        <p>{{ Plan.YearStart }}</p>
        <p>{{ Plan.YearEnd }}</p>
        <p>{{ Plan.Objectives.Index}}</p>
       </div>


       {{getTargetBonus(Plan)}}

      
      <ul *ngIf="Plan.Gateways">
        <li *ngFor="let gat of Plan.Gateways">
          {{ gat.Name }} 
              <table>
               <tr *ngFor="let row of gat.YearlyValues">
                   <td>
                       {{row.Year}}
                   </td>
                   <td>
                    {{row.TargetValue| number:'1.3-3'}}
                </td>
                <td>
                        {{getCalculatedValue(Plan,row).x| number:'1.3-3'}}
                    </td>
                    <td>
                        {{getCalculatedValue(Plan,row).y| number:'1.3-3'}}
                    </td>
                  
               </tr>   
              </table>
        </li>
          
      </ul>
   

       <ul *ngIf="Plan.Gateways">
       <strong>Gateways</strong>
        <li *ngFor="let gat of Plan.Gateways">
          {{ gat.Name }} 
            <table>
                <thead>
                     <tr>
                    <th>Year</th>
                    <th>Weight</th>
                    <th>TargetValue</th>
                    <th>CurrentValue</th>
                    <th>CalcTargetValue</th>
                    <th>CalcCurrentValue</th>
                    <th>multiplier</th>
                    <th>weightedmultiplier</th>
                    </tr>
                </thead>

                <tr *ngFor="let row of gat.YearlyValues">
                         <td>
                             {{row.Year}}
                        </td>
                        <td>
                            {{gat.Weight | percent:'1.2-2'}}
                        </td>
                        <td>
                             {{row.TargetValue| number:'1.3-3'}}
                        </td>
                        <td>
                              {{row.CurrentValue| number:'1.3-3'}}
                        </td>
                        <td>
                            {{row.calcTargetValue| number:'1.3-3'}}
                        </td>
                        <td>
                            {{row.calcCurrentValue| number:'1.3-3'}}
                        </td>
                         <td>
                            {{row.multiplier| number:'1.3-3'}}
                        </td>
                        <td>
                                {{row.weightedmultiplier}}
                        </td>
                </tr>   
            </table>
        </li>    
      </ul>

      <ul *ngIf="Plan.Objectives">
            <strong>Objectives</strong>
             <li *ngFor="let obj of Plan.Objectives">
               {{ obj.Name }} 
                 <table>
                     <thead>
                          <tr>
                         <th>Year</th>
                         <th>Weight</th>
                         <th>TargetValue</th>
                         <th>CurrentValue</th>
                         <th>CalcTargetValue</th>
                         <th>CalcCurrentValue</th>
                         <th>multiplier</th>
                         <th>weightedmultiplier</th>
                         </tr>
                     </thead>
     
                     <tr *ngFor="let row of obj.YearlyValues">
                              <td>
                                  {{row.Year}}
                             </td>
                             <td>
                                    {{obj.Weight| percent:'1.2-2'}}
                            </td>
                             <td>
                                  {{row.TargetValue| number:'1.3-3'}}
                             </td>
                             <td>
                                   {{row.CurrentValue| number:'1.3-3'}}
                             </td>
                             <td>
                                 {{row.calcTargetValue| number:'1.3-3'}}
                             </td>
                             <td>
                                 {{row.calcCurrentValue| number:'1.3-3'}}
                             </td>
                              <td>
                                 {{row.multiplier| number:'1.3-3'}}
                             </td>
                             <td>
                                    {{row.weightedmultiplier| number:'1.3-3'}}
                            </td>
                     </tr>   
                 </table>
             </li>    
           </ul>

           <ul *ngIf="Plan.Correctives">
                <strong>Correctives</strong>
                 <li *ngFor="let corr of Plan.Correctives">
                   {{ corr.Name }} 
                     <table>
                         <thead>
                              <tr>
                             <th>Year</th>
                             <th>Weight</th>
                             <th>TargetValue</th>
                             <th>CurrentValue</th>
                             <th>CalcTargetValue</th>
                             <th>CalcCurrentValue</th>
                             <th>multiplier</th>
                             <th>weightedmultiplier</th>
                             </tr>
                         </thead>
         
                         <tr *ngFor="let row of corr.YearlyValues">
                                  <td>
                                      {{row.Year}}
                                 </td>
                                 <td>
                                        {{corr.Weight| percent:'1.2-2'}}
                                </td>
                                 <td>
                                      {{row.TargetValue| number:'1.3-3'}}
                                 </td>
                                 <td>
                                       {{row.CurrentValue| number:'1.3-3'}}
                                 </td>
                                 <td>
                                     {{row.calcTargetValue| number:'1.3-3'}}
                                 </td>
                                 <td>
                                     {{row.calcCurrentValue| number:'1.3-3'}}
                                 </td>
                                  <td>
                                     {{row.multiplier| number:'1.3-3'}}
                                 </td>
                                 <td>
                                        {{row.weightedmultiplier| number:'1.3-3'}}
                                </td>
                         </tr>   
                     </table>
                 </li>    
               </ul>



<ul>
    <H1>MULTIPLIERS</H1>
        <table>
            <thead>
                <tr>
                    <th>Year</th>
                    <th>Gateways</th>
                    <th>Objectives</th>
                    <th>Correctives</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let r of Plan.Multipliers">
                    <td>{{r.year}}</td>
                    <td>{{r.multipliers.gateways | number:'1.3-3'}}</td>
                    <td>{{r.multipliers.objectives | number:'1.3-3'}}</td>
                    <td>{{r.multipliers.correctives | number:'1.3-3'}}</td>
                </tr>
            </tbody>

    </table>
</ul>

<ul>
        <H1>Bonuses</H1>
            <table>
                <thead>
                    <tr>
                        <th>Year</th>
                        <th>Target</th>
                        <th>Admitted</th>
                        <th>Accrued</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let r of Plan.Bonuses">
                        <td>{{r.Year}}</td>
                        <td>{{r.Target }}</td>
                        <td>{{r.Accrued }}</td>
                        <td>{{r.Admitted }}</td>
                    </tr>
                </tbody>
    
        </table>
    </ul>
    




    <ul *ngIf="Plan.PartecipantsByYear">
          <strong>Bonus by Participant by Year </strong> 
             <li *ngFor="let y of Plan.PartecipantsByYear">
               {{ y.Year }} 
               {{ getYearlyTargetBonus(y) }} 
                 <table>
                     <thead>
                        
                          <tr>
                         <th>Name</th>
                         <th>Surname</th>
                         <th>RAL</th>
                         <th>TargetBonusPercentage</th>
                         <th>Target Bonus</th>
                         <th>Admitted Bonus</th>
                         <th>Accrued Bonus</th>
                         <th>PayableCash</th>
                        
                         </tr>
                     </thead>
     
                     <tr *ngFor="let row of y.Partecipants">
                            <td>
                                    {{row.Name}}
                               </td>
                               <td>
                                    {{row.Surname}}
                               </td>
                              <td>
                                  <input type="text" [(ngModel)]="row.GrossAnnualSalary" (ngModelChange)="onModelChange()"/>
                             </td>
                            
                             <td>
                                  {{row.TargetBonusPercentage}}
                             </td>
                             <td>
                                    {{row.TargetBonus}}
                            </td>
                            <td>
                                    {{row.AdmittedBonus}}
                            </td>
                            <td>
                                    {{row.AccruedBonus}}
                            </td>
                            <td>
                                    {{row.PayableCash}}
                            </td>
                           
                     </tr>   
                 </table>
             </li>    
           </ul>
              


        